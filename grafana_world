{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": null,
  "graphTooltip": 0,
  "id": 5,
  "iteration": 1646297253999,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 14,
      "panels": [],
      "title": "OVERVIEW",
      "type": "row"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-blue",
                "value": null
              },
              {
                "color": "yellow",
                "value": 10000
              },
              {
                "color": "dark-red",
                "value": 4500000
              },
              {
                "color": "#16c416",
                "value": 10000000
              },
              {
                "color": "#d73cf0",
                "value": 1000000000
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 2,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "text": {},
        "textMode": "value_and_name"
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select count(video_id) as videos, sum(view_count) as views, sum(likes) as likes, sum(dislikes) as dislikes, sum(comment_count) as comments from\n(\nselect distinct on (video_id) video_id, runtime, view_count, likes, dislikes,comment_count\nfrom world_ytb_trending\nWHERE country_code = '$country'\norder by video_id, runtime desc) t",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 13,
        "w": 7,
        "x": 0,
        "y": 10
      },
      "id": 4,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": true
        },
        "text": {},
        "textMode": "value_and_name"
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select\n  count(video_id) as videos,\n  sum(view_count) as views,\n  sum(likes) as likes,\n  sum(dislikes) as dislikes,\n  sum(comment_count) as comments\nfrom\n(\nselect distinct on (video_id)\n  video_id, runtime,\n  view_count,\n  likes,\n  dislikes,\n  comment_count,\n  channel_title\nfrom world_ytb_trending\nwhere $__timeFilter(runtime) and country_code = '$country'\norder by video_id, runtime desc) t",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Realtime stats",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "decimals": 0,
          "mappings": [],
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Education"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Comedy"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Pets & Animals"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "light-orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "People & Blogs"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#05a2f0",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Entertainment"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ccccdb",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Sports"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#604926",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "ct",
                  "Entertainment",
                  "Autos & Vehicles"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 17,
        "x": 7,
        "y": 10
      },
      "id": 6,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "values": [
            "value"
          ]
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "single"
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "hide": true,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select video_category, count(*) as ct from (\n\tselect distinct on (video_id)\n\truntime,\n\tvideo_id, video_category\n\tfrom vn_no_of_videos_in_each_category\n\twhere $__timeFilter(runtime)\n) t\ngroup by 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select video_category, count(*) as ct from (\n\tselect distinct on (video_id)\n\truntime,\n\tvideo_id, video_category\n\tfrom\n\t(\n\t\tSELECT a.runtime, a.video_id, b.video_category, a.country_code\n\t\tFROM world_ytb_trending as a\n\t\tINNER JOIN video_categories as b ON a.category_id=b.category_id\n\t) u\n\twhere $__timeFilter(runtime) and u.country_code = '$country'\n) t\ngroup by 1",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "timeFrom": null,
      "title": "No.of videos of each category",
      "transparent": true,
      "type": "piechart"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 13,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 8,
      "options": {
        "displayMode": "gradient",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "showUnfilled": false,
        "text": {
          "titleSize": 15
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "hide": true,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select sum(view_count), video_category from\n(\nselect distinct on (video_id) video_id, runtime, video_category, view_count\nfrom vn_count_in_each_category\nwhere $__timeFilter(runtime)\norder by video_id, runtime desc) t\ngroup by video_category",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select sum(view_count), video_category from\n(\nselect distinct on (video_id) video_id, runtime, video_category, view_count\nfrom\n\t(\n\t\tSELECT a.runtime, a.video_id, b.video_category, a.view_count, a.country_code\n\t\tFROM world_ytb_trending as a\n\t\tINNER JOIN video_categories as b ON a.category_id=b.category_id\n\t) u\nwhere $__timeFilter(runtime) and u.country_code = '$country'\norder by video_id, runtime desc) t\ngroup by video_category",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of views of each category",
      "transparent": true,
      "type": "bargauge"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 10
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "likes"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3cfa3f",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "comment_count"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 11,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 10,
      "options": {
        "barWidth": 1,
        "groupWidth": 0.65,
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean",
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "orientation": "auto",
        "showValue": "auto",
        "stacking": "none",
        "text": {},
        "tooltip": {
          "mode": "single"
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "hide": true,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select sum(likes) as likes, sum(dislikes) as dislikes, sum(comment_count) as comment_count, video_category from\n(\nselect distinct on (video_id) video_id, runtime, video_category, likes, dislikes,comment_count\nfrom vn_count_in_each_category\nwhere $__timeFilter(runtime)\norder by video_id, runtime desc) t\ngroup by video_category",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select sum(likes) as likes, sum(dislikes) as dislikes, sum(comment_count) as comment_count, video_category from\n(\nselect distinct on (video_id) video_id, runtime, video_category, likes, dislikes, comment_count\nfrom\n\t(\n\t\tSELECT a.runtime, a.video_id, b.video_category, a.likes, a.dislikes, a.comment_count, a.country_code\n\t\tFROM world_ytb_trending as a\n\t\tINNER JOIN video_categories as b ON a.category_id=b.category_id\n\t) u\nwhere $__timeFilter(runtime) and u.country_code = '$country'\norder by video_id, runtime desc) t\ngroup by video_category",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of likes, dislikes, comments of each category",
      "transparent": true,
      "type": "barchart"
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 47
      },
      "id": 12,
      "panels": [],
      "title": "TOP 10 TRENDING",
      "type": "row"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#5794F2",
            "mode": "palette-classic"
          },
          "custom": {
            "align": "auto",
            "displayMode": "color-text",
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#3cf052",
                "value": 1
              },
              {
                "color": "yellow",
                "value": 2
              },
              {
                "color": "semi-dark-blue",
                "value": 3
              },
              {
                "color": "super-light-purple",
                "value": 4
              },
              {
                "color": "dark-purple",
                "value": 5
              },
              {
                "color": "semi-dark-orange",
                "value": 6
              },
              {
                "color": "dark-orange",
                "value": 7
              },
              {
                "color": "light-red",
                "value": 8
              },
              {
                "color": "semi-dark-red",
                "value": 9
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "trending_id"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 93
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "title"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 730
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "channel_title"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 243
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "video_category"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 139
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 16,
        "x": 0,
        "y": 48
      },
      "id": 16,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n\tworld_ytb_trending.title,\n\tworld_ytb_trending.channel_title,\n\tvideo_categories.video_category,\n\tworld_ytb_trending.trending_id\nFROM world_ytb_trending\nINNER JOIN video_categories ON world_ytb_trending.category_id=video_categories.category_id\nWHERE $__timeFilter(runtime) and country_code = '$country'\nORDER BY world_ytb_trending.runtime DESC,world_ytb_trending.trending_id ASC\nlimit 10",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeShift": null,
      "title": "List top 10 trending",
      "transparent": true,
      "type": "table"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "FPT Bóng Đá"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Running Man Vietnam"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "FAP TV"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Vũ Official"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Võ Tấn Phát"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-green",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "La Yen Team"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "THỎ BẢY MÀU"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Dalin Vlog"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#66ddd3",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 8,
        "x": 16,
        "y": 48
      },
      "id": 28,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select a.channel_title, b.ct\r\nfrom\r\n(\r\n\tselect channel_title, trending_id\r\n\t\tfrom world_ytb_trending\r\n\t\tWHERE $__timeFilter(runtime) and country_code = '$country'\r\n\t\tORDER BY world_ytb_trending.runtime DESC,world_ytb_trending.trending_id ASC\r\n\t\tlimit 10\r\n) a\r\ninner join\r\n(select channel_title, count(*) as ct from (\r\n\tselect distinct on (video_id)\r\n\tchannel_title\r\n\tfrom world_ytb_trending\r\n\twhere channel_title in\r\n\t(\r\n\t\tselect channel_title\r\n\t\tfrom world_ytb_trending\r\n\t\tWHERE $__timeFilter(runtime) and country_code = '$country'\r\n\t\tORDER BY world_ytb_trending.runtime DESC,world_ytb_trending.trending_id ASC\r\n\t\tlimit 10\r\n\t)\r\n\tand $__timeFilter(runtime) and country_code = '$country'\r\n) t\r\ngroup by 1) b \r\nON a.channel_title=b.channel_title\r\norder by a.trending_id asc",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of videos of each channel",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "super-light-green",
                "value": null
              },
              {
                "color": "light-green",
                "value": 10
              },
              {
                "color": "semi-dark-green",
                "value": 20
              },
              {
                "color": "dark-green",
                "value": 30
              },
              {
                "color": "super-light-orange",
                "value": 40
              },
              {
                "color": "light-orange",
                "value": 50
              },
              {
                "color": "semi-dark-orange",
                "value": 60
              },
              {
                "color": "dark-orange",
                "value": 70
              },
              {
                "color": "semi-dark-red",
                "value": 80
              },
              {
                "color": "dark-red",
                "value": 90
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 61
      },
      "id": 18,
      "options": {
        "displayMode": "gradient",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "showUnfilled": false,
        "text": {
          "titleSize": 12,
          "valueSize": 25
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  runtime AS \"time\",\n  title AS metric,\n  view_count\nFROM world_ytb_trending\nWHERE\n  $__timeFilter(runtime) and country_code = '$country'\nORDER BY runtime DESC,world_ytb_trending.trending_id ASC\nLIMIT 10",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Number of views",
      "transparent": true,
      "type": "bargauge"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 2,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "  Chơi game đi con | La Yen Team | #Shorts"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "  GIA ĐÌNH CỤC SÚC - Tập 6 | Võ Tấn Phát, Minh Dự, Lê Nhân, Quách Ngọc Tuyên, BB Trần, Nguyên Thảo"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "light-red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 73
      },
      "id": 20,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom"
        },
        "tooltip": {
          "mode": "single"
        }
      },
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select runtime as \"time\", title, view_count as \" \"\nfrom world_ytb_trending\nwhere title\nin\n(\n\tselect distinct(title)\n\tfrom\n\t(\n\t\tSELECT runtime, title, trending_id, view_count\n\t\tFROM world_ytb_trending\n\t\twhere $__timeFilter(runtime) and country_code = '$country'\n\t\tORDER BY runtime DESC, trending_id ASC\n\t\tLIMIT 10\n) t\n)\norder by runtime asc, view_count, title asc",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "transparent": true,
      "type": "timeseries"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisLabel": "",
            "axisPlacement": "left",
            "axisSoftMin": 0,
            "fillOpacity": 76,
            "gradientMode": "opacity",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 3
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "likes"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#49f25a",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "dislikes"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "comment_count"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 85
      },
      "id": 22,
      "options": {
        "barWidth": 1,
        "groupWidth": 0.81,
        "legend": {
          "calcs": [
            "min",
            "max",
            "mean",
            "sum"
          ],
          "displayMode": "table",
          "placement": "right"
        },
        "orientation": "horizontal",
        "showValue": "never",
        "stacking": "none",
        "text": {},
        "tooltip": {
          "mode": "multi"
        }
      },
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  runtime AS \"time\",\n  title AS metric,\n  likes,\n  dislikes,\n  comment_count\nFROM world_ytb_trending\nWHERE\n  $__timeFilter(runtime) and country_code = '$country'\nORDER BY runtime DESC, world_ytb_trending.trending_id ASC\nLIMIT 10",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of likes, dislikes, comment_count",
      "transparent": true,
      "type": "barchart"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-green",
                "value": null
              },
              {
                "color": "light-green",
                "value": 10
              },
              {
                "color": "semi-dark-green",
                "value": 20
              },
              {
                "color": "dark-green",
                "value": 30
              },
              {
                "color": "super-light-blue",
                "value": 40
              },
              {
                "color": "light-blue",
                "value": 50
              },
              {
                "color": "semi-dark-blue",
                "value": 60
              },
              {
                "color": "dark-blue",
                "value": 70
              },
              {
                "color": "super-light-yellow",
                "value": 80
              },
              {
                "color": "light-yellow",
                "value": 90
              },
              {
                "color": "semi-dark-yellow",
                "value": 100
              },
              {
                "color": "dark-yellow",
                "value": 110
              },
              {
                "color": "super-light-orange",
                "value": 120
              },
              {
                "color": "light-orange",
                "value": 130
              },
              {
                "color": "semi-dark-orange",
                "value": 140
              },
              {
                "color": "dark-orange",
                "value": 150
              },
              {
                "color": "light-red",
                "value": 160
              },
              {
                "color": "semi-dark-red",
                "value": 170
              },
              {
                "color": "dark-red",
                "value": 180
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 16,
        "w": 15,
        "x": 0,
        "y": 97
      },
      "id": 24,
      "options": {
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "text": {
          "titleSize": 15,
          "valueSize": 40
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "hide": true,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  runtime,\n  title,\n  no_of_hour_on_trending\nFROM vn_no_of_hours_on_ytb_trending\nWHERE\n  $__timeFilter(runtime)\nORDER BY runtime DESC, vn_no_of_hours_on_ytb_trending.trending_id ASC\nLIMIT 10",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select a.title, b.no_of_hour_on_trending\nfrom\n(\n\tSELECT title, trending_id, runtime\n\tFROM world_ytb_trending\n\tWHERE $__timeFilter(runtime) and country_code = '$country'\n\tand trending_id < 11\n\torder by runtime DESC, trending_id ASC\n\tlimit 10\n) a\ninner join\n(\n\tselect title, count(*) as no_of_hour_on_trending\n\tfrom\n\t(\n\t\tSELECT title, trending_id, runtime\n\t\tFROM world_ytb_trending\n\t  WHERE runtime < $__timeTo()\n\t\tand trending_id < 11 and country_code = '$country'\n\t) t\n\twhere title in\n\t(\n\t\tselect title from\n\t\t(\n\t\t\tSELECT title, trending_id, runtime\n\t\t\tFROM world_ytb_trending\n\t\t\tWHERE $__timeFilter(runtime) and country_code = '$country'\n\t\t\tand trending_id < 11\n\t\t\torder by runtime DESC, trending_id ASC\n\t\t\tlimit 10\n\t\t) c\n\t)\n\tgroup by title\n) b\nON a.title=b.title\norder by a.trending_id asc",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of hours on trending",
      "transparent": true,
      "type": "gauge"
    },
    {
      "datasource": null,
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Entertainment"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Film & Animation"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "orange",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Music"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "People & Blogs"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "purple",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Sports"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "blue",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "News & Politics"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Travel & Events"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "super-light-blue",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 16,
        "w": 9,
        "x": 15,
        "y": 97
      },
      "id": 26,
      "options": {
        "displayLabels": [],
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "values": [
            "value"
          ]
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "single"
        }
      },
      "pluginVersion": "8.2.2",
      "targets": [
        {
          "format": "table",
          "group": [],
          "hide": true,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select video_category, count(*) as ct from (\n\tselect distinct on (video_id)\n\truntime,\n\tvideo_id, video_category\n\tfrom vn_no_of_top10videos_in_each_category\n\twhere $__timeFilter(runtime)\n) t\ngroup by 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "select video_category, count(*) as ct from (\n\tselect distinct on (video_id)\n\truntime,\n\tvideo_id, video_category\n\tfrom\n\t(\n\t\tselect a.runtime, a.video_id, b.video_category, a.country_code\n\t\tfrom\n\t\t(\n\t\t\tSELECT\n\t\t\t  runtime, category_id, video_id, trending_id, country_code\n\t\t\tFROM world_ytb_trending\n\t\t\tWHERE trending_id < 11\n\t\t) a\n\t\tINNER JOIN video_categories as b ON a.category_id=b.category_id\n\t) c\n\twhere $__timeFilter(runtime) and c.country_code = '$country'\n) t\ngroup by 1",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "No.of videos corresponding to each category",
      "transparent": true,
      "type": "piechart"
    }
  ],
  "refresh": "30m",
  "schemaVersion": 31,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": "US",
          "value": "US"
        },
        "datasource": null,
        "definition": "select country_code from country_list",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "country",
        "options": [],
        "query": "select country_code from country_list",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "WORLD YOUTUBE TRENDING",
  "uid": "RIdYE1t7z",
  "version": 3
}
